import{_ as U,S as V,L as F}from"./index-DUa1mIHt.js";import{bg as D,e as O,h as y,r as W,b7 as b,z as t,ba as m,bi as n,b9 as a,bq as j,u as G,F as N,bh as H,b8 as i,br as S,be as K,S as d,bs as J,bt as M}from"./vendor-fsJ2yqg7.js";import{j as Q,F as X,h as c,k as Y,l as Z,S as x,R as ee,m as te,B as ae}from"./ant-design-vue-BV8TBcly.js";import"./web3-WkWxvw6o.js";import"./ant-icons-Cs-RbiQW.js";const se={class:"bet-page"},oe={style:{"margin-top":"5px"}},re={style:{color:"red"}},ne={__name:"LotteryBet",setup(le){const{t:l}=D(),w=H(),B=O(()=>{const e=Array.from({length:5},(r,_)=>_+1),s=5,p=[];for(let r=0;r<e.length;r+=s)p.push(e.slice(r,r+s));return p}),k=()=>{w.push("/")},A=[{path:"/",breadcrumbName:l("breadcrumb.home")},{path:"/lottery-bet",breadcrumbName:l("breadcrumb.bet")}],f=y(!1),R={labelCol:{span:8},wrapperCol:{span:20}},L={wrapperCol:{offset:4,span:14}},$=()=>{o.betNumber="",o.betAmount=""},z=async e=>{f.value=!0,c.value="";try{(await F.buyTicket(o.betNumber,o.betAmount)).status?(c.success(l("message.betSuccess")),k()):c.error(l("message.betFailed"))}catch(s){c.error(l("message.betFailed")+":"+F.getRequireError(s),5)}finally{f.value=!1}};y(""),y(!1);const o=W({betNumber:"",betAmount:"0.01"}),C=e=>{if(!window.ethereum){c.error(l("message.installWallet"));return}z()},I=e=>{};return(e,s)=>{const p=Q,r=ee,_=x,P=Z,g=Y,q=te,h=ae,E=X;return i(),b(N,null,[t(p,{style:{color:"white"},title:"",breadcrumb:{routes:A},"sub-title":""},null,8,["breadcrumb"]),m("div",se,[m("h2",null,n(e.$t("message.betNumber")),1),t(E,j({ref:"formRef",model:o,name:"dynamic_rule"},R,{onFinish:C,onFinishFailed:I}),{default:a(()=>[t(g,{label:"",name:"betNumber",rules:[{required:!0,message:e.$t("message.tip1")}],class:"numberSelect"},{default:a(()=>[t(P,{value:o.betNumber,"onUpdate:value":s[0]||(s[0]=u=>o.betNumber=u),name:"radioGroup"},{default:a(()=>[(i(!0),b(N,null,S(B.value,(u,T)=>(i(),b("div",{key:T},[t(_,null,{default:a(()=>[(i(!0),b(N,null,S(u,v=>(i(),K(r,{key:v,value:String(v)},{default:a(()=>[d(n(v),1)]),_:2},1032,["value"]))),128))]),_:2},1024)]))),128))]),_:1},8,["value"])]),_:1},8,["rules"]),t(g,{label:"",name:"betAmount",rules:[{required:!0,message:e.$t("message.tip2")}]},{default:a(()=>[m("span",oe,n(e.$t("message.betAmount")),1),t(q,{value:o.betAmount,"onUpdate:value":s[1]||(s[1]=u=>o.betAmount=u),min:.01,step:"0.01",style:{"margin-left":"15px"}},null,8,["value"])]),_:1},8,["rules"]),t(g,J(M(L)),{default:a(()=>[m("div",null,[t(_,null,{default:a(()=>[t(h,{"html-type":"submit",size:"middle",loading:f.value},{default:a(()=>[d(n(e.$t("message.bet")),1)]),_:1},8,["loading"]),t(h,{onClick:$,size:"middle"},{default:a(()=>[d(n(e.$t("message.reset")),1)]),_:1}),t(h,{onClick:k,size:"middle"},{default:a(()=>[d(n(e.$t("message.cancel")),1)]),_:1})]),_:1})])]),_:1},16)]),_:1},16,["model"]),m("div",re,n(e.$t("message.tip3",{network:G(V).chainName})),1)])],64)}}},_e=U(ne,[["__scopeId","data-v-4088724b"]]);export{_e as default};
