const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LotteryBet-B9T2hgci.js","assets/vendor-fsJ2yqg7.js","assets/ant-design-vue-BV8TBcly.js","assets/ant-icons-Cs-RbiQW.js","assets/web3-WkWxvw6o.js","assets/LotteryBet-CgWC5gXt.css"])))=>i.map(i=>d[i]);
import{b7 as M,b8 as c,z as o,b9 as r,ba as a,bb as ce,bc as Ie,e as me,bd as Be,be as f,bf as ze,bg as Z,h as d,bh as te,S as I,bi as v,bj as pe,u as K,bk as ye,o as fe,F as X,b as De,r as Me,bl as be,bm as $e,bn as xe,bo as Se,bp as We}from"./vendor-fsJ2yqg7.js";import{L as Oe,a as Le,_ as Fe,S as ne,D as He,B as ae,M as qe,b as Ue,c as ve,d as ge,e as he,f as we,g as oe,h as x,i as Ve,j as se}from"./ant-design-vue-BV8TBcly.js";import{W as Ye}from"./web3-WkWxvw6o.js";import{L as je}from"./ant-icons-Cs-RbiQW.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const y of t)if(y.type==="childList")for(const g of y.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&i(g)}).observe(document,{childList:!0,subtree:!0});function s(t){const y={};return t.integrity&&(y.integrity=t.integrity),t.referrerPolicy&&(y.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?y.credentials="include":t.crossOrigin==="anonymous"?y.credentials="omit":y.credentials="same-origin",y}function i(t){if(t.ep)return;t.ep=!0;const y=s(t);fetch(t.href,y)}})();const Ge={class:"fullscreen-container"},Ze={__name:"AdminLayout",setup(e){return(n,s)=>{const i=Oe,t=Le,y=Fe;return c(),M("div",Ge,[o(y,{style:{height:"100vh"}},{default:r(()=>[o(i,{style:{color:"#fff",background:"#001529"}},{default:r(()=>s[0]||(s[0]=[a("h1",{style:{margin:"0"}},null,-1)])),_:1,__:[0]}),o(t,{style:{flex:"1","justify-content":"center","align-items":"center",background:"#f5f5f5"}},{default:r(()=>[ce(n.$slots,"default")]),_:3})]),_:3})])}}},V=(e,n)=>{const s=e.__vccOpts||e;for(const[i,t]of n)s[i]=t;return s},Xe={},Ke={class:"main-container bg-img"};function Je(e,n){return c(),M("div",Ke,[ce(e.$slots,"default",{},void 0,!0)])}const ie=V(Xe,[["render",Je],["__scopeId","data-v-837d8d0d"]]),Qe={id:"app"},et={__name:"App",setup(e){const n=Ie(),s={AdminLayout:Ze,FullscreenLayout:ie},i=me(()=>s[n.meta.layout]||ie);return(t,y)=>{const g=Be("router-view");return c(),M("div",Qe,[(c(),f(ze(i.value),null,{default:r(()=>[o(g)]),_:1}))])}}},tt="modulepreload",nt=function(e){return"/"+e},le={},at=function(n,s,i){let t=Promise.resolve();if(s&&s.length>0){let g=function(p){return Promise.all(p.map(E=>Promise.resolve(E).then(z=>({status:"fulfilled",value:z}),z=>({status:"rejected",reason:z}))))};document.getElementsByTagName("link");const b=document.querySelector("meta[property=csp-nonce]"),w=(b==null?void 0:b.nonce)||(b==null?void 0:b.getAttribute("nonce"));t=g(s.map(p=>{if(p=nt(p),p in le)return;le[p]=!0;const E=p.endsWith(".css"),z=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${z}`))return;const R=document.createElement("link");if(R.rel=E?"stylesheet":tt,E||(R.as="script"),R.crossOrigin="",R.href=p,w&&R.setAttribute("nonce",w),document.head.appendChild(R),E)return new Promise((D,$)=>{R.addEventListener("load",D),R.addEventListener("error",()=>$(new Error(`Unable to preload CSS for ${p}`)))})}))}function y(g){const b=new Event("vite:preloadError",{cancelable:!0});if(b.payload=g,window.dispatchEvent(b),!b.defaultPrevented)throw g}return t.then(g=>{for(const b of g||[])b.status==="rejected"&&y(b.reason);return n().catch(y)})},ot={style:{"margin-right":"20px","margin-top":"10px"}},st={__name:"WalletConnect",setup(e){const n=te(),{t:s,locale:i}=Z(),t=d(null),y=()=>{i.value="zh"},g=()=>{i.value="en"},b=()=>{i.value=="zh"?n.push("/About"):n.push("/About-En")},w=async()=>{if(window.ethereum){const E=await window.ethereum.request({method:"eth_requestAccounts"});t.value=E[0]}else alert("Please install MetaMask")},p=me(()=>t.value?t.value.slice(0,6)+"..."+t.value.slice(-4):"");return(E,z)=>{const R=ae,D=Ue,$=qe,W=He,T=ne;return c(),M("div",ot,[o(T,null,{default:r(()=>[o(W,null,{overlay:r(()=>[o($,null,{default:r(()=>[o(D,null,{default:r(()=>[a("a",{onClick:y},"ä¸­æ–‡")]),_:1}),K(i).value!=="en"?(c(),f(D,{key:0},{default:r(()=>[a("a",{onClick:g},"English")]),_:1})):pe("",!0)]),_:1})]),default:r(()=>[o(R,{type:"text",style:{color:"white"}},{default:r(()=>[I(v(E.$t("message.language")),1)]),_:1})]),_:1})]),_:1}),o(T,null,{default:r(()=>[o(W,null,{default:r(()=>[o(R,{type:"text",onClick:b,style:{color:"white"}},{default:r(()=>[I(v(E.$t("message.about")),1)]),_:1})]),_:1})]),_:1}),o(T,null,{default:r(()=>[o(R,{type:"text",onClick:w,style:{"margin-left":"10px",color:"white"}},{default:r(()=>[I(v(t.value?K(s)("message.connected")+": "+p.value:K(s)("message.connectWallet")),1)]),_:1})]),_:1})])}}},rt=V(st,[["__scopeId","data-v-4ac08b9f"]]),_e="0xABF2Fc9f342b42Ec79AAaFcF5Bc3d604f3bf3e89",it=[{inputs:[{internalType:"uint256",name:"subscriptionId",type:"uint256"},{internalType:"address",name:"_vrfCoordinator",type:"address"},{internalType:"bytes32",name:"_keyHash",type:"bytes32"},{internalType:"uint8",name:"_rewardRate",type:"uint8"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"have",type:"address"},{internalType:"address",name:"want",type:"address"}],name:"OnlyCoordinatorCanFulfill",type:"error"},{inputs:[{internalType:"address",name:"have",type:"address"},{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"coordinator",type:"address"}],name:"OnlyOwnerOrCoordinator",type:"error"},{inputs:[],name:"ZeroAddress",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"vrfCoordinator",type:"address"}],name:"CoordinatorSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint32",name:"round",type:"uint32"},{indexed:!1,internalType:"uint128",name:"prizeAmount",type:"uint128"}],name:"DistributePrizesAndEndCurrentRoundEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"OwnershipTransferRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint32",name:"round",type:"uint32"}],name:"PreDistributePrizesEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"player",type:"address"},{indexed:!1,internalType:"uint256",name:"reward",type:"uint256"}],name:"PreDistributeReward",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"player",type:"address"},{indexed:!1,internalType:"uint128",name:"amount",type:"uint128"}],name:"PrizeClaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"player",type:"address"},{indexed:!0,internalType:"uint32",name:"round",type:"uint32"},{indexed:!1,internalType:"uint8",name:"winNumber",type:"uint8"},{indexed:!1,internalType:"uint128",name:"betAmount",type:"uint128"},{indexed:!1,internalType:"uint128",name:"prizeAmount",type:"uint128"}],name:"PrizeDistributed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint32",name:"round",type:"uint32"},{indexed:!1,internalType:"uint8",name:"randomNumber",type:"uint8"}],name:"RandomNumberFulfilled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"requestId",type:"uint256"}],name:"RandomNumberRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint32",name:"round",type:"uint32"},{indexed:!0,internalType:"address",name:"player",type:"address"},{indexed:!1,internalType:"uint64",name:"totalPlayer",type:"uint64"},{indexed:!1,internalType:"uint256",name:"totalAmount",type:"uint256"}],name:"RefundTicketsEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"player",type:"address"},{indexed:!0,internalType:"uint32",name:"round",type:"uint32"},{indexed:!1,internalType:"uint8",name:"number",type:"uint8"},{indexed:!1,internalType:"uint128",name:"amount",type:"uint128"}],name:"TicketPurchased",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint128",name:"amount",type:"uint128"}],name:"WithdrawAll",type:"event"},{inputs:[],name:"BATCH_COUNT",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"DELAY_DURATION",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"DISTRIBUTE_PRIZES_REWARD",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"INIT_ROUND_DURATION",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_NUMBER",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"MIN_BET_AMOUNT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MIN_NUMBER",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"PRE_DISTRIBUTE_PRIZES_REWARD",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"ROUND_DURATION",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint8",name:"number",type:"uint8"}],name:"buyTicket",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"claimPrize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"contractOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"distributePrizesAndEndCurrentRound",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getCurrentRoundTotalAmount",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentTicketsCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLotteryStatus",outputs:[{internalType:"enum Lottery.LotteryStatus",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMyTicket",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint128",name:"",type:"uint128"},{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_player",type:"address"}],name:"getPlayerInfo",outputs:[{components:[{internalType:"address",name:"player",type:"address"},{internalType:"uint128",name:"currentBetAmount",type:"uint128"},{internalType:"uint8",name:"currentBetNumber",type:"uint8"},{internalType:"uint128",name:"pendingPrize",type:"uint128"}],internalType:"struct Lottery.PlayerInfo",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"player",type:"address"}],name:"getPlayerTicket",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint128",name:"",type:"uint128"},{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTickets",outputs:[{components:[{internalType:"address",name:"player",type:"address"},{internalType:"uint128",name:"amount",type:"uint128"},{internalType:"uint8",name:"number",type:"uint8"}],internalType:"struct Lottery.Ticket[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint8",name:"number",type:"uint8"}],name:"getTotalAmountForNumber",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"initBlockNumber",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"lotteryInfo",outputs:[{internalType:"uint32",name:"round",type:"uint32"},{internalType:"uint256",name:"startNumber",type:"uint256"},{internalType:"uint256",name:"endNumber",type:"uint256"},{internalType:"bool",name:"isLotteryOpen",type:"bool"},{internalType:"uint128",name:"totalPrizePool",type:"uint128"},{internalType:"uint128",name:"totalPendingRewards",type:"uint128"},{internalType:"uint256",name:"lastRequestId",type:"uint256"},{internalType:"uint8",name:"latestRandomNumber",type:"uint8"},{internalType:"uint8",name:"rewardRate",type:"uint8"},{internalType:"bool",name:"isDistributing",type:"bool"},{internalType:"uint256",name:"cumulativePrizeAmount",type:"uint256"},{internalType:"uint128",name:"cumulativeWinners",type:"uint128"},{internalType:"uint64",name:"distributedCount",type:"uint64"},{internalType:"uint128",name:"cumulativePlayers",type:"uint128"},{internalType:"uint256",name:"cumulativeBetAmount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"pendingRewards",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"preDistributePrizes",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"requestId",type:"uint256"},{internalType:"uint256[]",name:"randomWords",type:"uint256[]"}],name:"rawFulfillRandomWords",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint32",name:"",type:"uint32"},{internalType:"address",name:"",type:"address"}],name:"roundHasBought",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"",type:"uint32"}],name:"roundLotteryInfo",outputs:[{internalType:"uint32",name:"round",type:"uint32"},{internalType:"uint256",name:"startNumber",type:"uint256"},{internalType:"uint256",name:"endNumber",type:"uint256"},{internalType:"bool",name:"isLotteryOpen",type:"bool"},{internalType:"uint128",name:"totalPrizePool",type:"uint128"},{internalType:"uint128",name:"totalPendingRewards",type:"uint128"},{internalType:"uint256",name:"lastRequestId",type:"uint256"},{internalType:"uint8",name:"latestRandomNumber",type:"uint8"},{internalType:"uint8",name:"rewardRate",type:"uint8"},{internalType:"bool",name:"isDistributing",type:"bool"},{internalType:"uint256",name:"cumulativePrizeAmount",type:"uint256"},{internalType:"uint128",name:"cumulativeWinners",type:"uint128"},{internalType:"uint64",name:"distributedCount",type:"uint64"},{internalType:"uint128",name:"cumulativePlayers",type:"uint128"},{internalType:"uint256",name:"cumulativeBetAmount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"",type:"uint32"},{internalType:"uint8",name:"",type:"uint8"},{internalType:"uint256",name:"",type:"uint256"}],name:"roundTicketsPerNumber",outputs:[{internalType:"address",name:"player",type:"address"},{internalType:"uint128",name:"amount",type:"uint128"},{internalType:"uint8",name:"number",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"s_vrfCoordinator",outputs:[{internalType:"contract IVRFCoordinatorV2Plus",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_vrfCoordinator",type:"address"}],name:"setCoordinator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint8",name:"number",type:"uint8"}],name:"simulatePreDis",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint32",name:"",type:"uint32"},{internalType:"uint256",name:"",type:"uint256"}],name:"soldTickets",outputs:[{internalType:"address",name:"player",type:"address"},{internalType:"uint128",name:"amount",type:"uint128"},{internalType:"uint8",name:"number",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"startNewRound",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"vrfConfig",outputs:[{internalType:"uint256",name:"subscriptionId",type:"uint256"},{internalType:"address",name:"coordinator",type:"address"},{internalType:"bytes32",name:"keyHash",type:"bytes32"},{internalType:"uint32",name:"callbackGasLimit",type:"uint32"},{internalType:"uint16",name:"requestConfirmations",type:"uint16"},{internalType:"uint32",name:"numWords",type:"uint32"},{internalType:"bool",name:"isNativePaymentEnabled",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"withdrawAll",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],ue={chainId:11155111,chainName:"sepolia"};let P,l,de=!1;const G=async()=>{if(typeof window.ethereum>"u"){alert("è¯·å…ˆå®‰è£… MetaMask ç­‰ä»¥å¤ªåŠé’±åŒ…æ’ä»¶");return}const e="0x"+ue.chainId.toString(16),n=await window.ethereum.request({method:"eth_chainId"});if(console.log(`å½“å‰ç½‘ç»œ ID: ${n}, ç›®æ ‡ç½‘ç»œ ID: ${e}`),n!==e){alert(`è¯·åœ¨é’±åŒ…ä¸­åˆ‡æ¢åˆ° ${ue.chainName} æµ‹è¯•ç½‘ç»œ`);try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:e}]})}catch(s){if(s.code===4902)try{await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:sepoliaChainId,chainName:"Sepolia Test Network",rpcUrls:["https://rpc.sepolia.org"],nativeCurrency:{name:"SepoliaETH",symbol:"ETH",decimals:18},blockExplorerUrls:["https://sepolia.etherscan.io"]}]})}catch{alert("æ·»åŠ  Sepolia ç½‘ç»œå¤±è´¥ï¼Œè¯·æ‰‹åŠ¨åˆ‡æ¢")}else alert("åˆ‡æ¢ç½‘ç»œå¤±è´¥ï¼Œè¯·æ‰‹åŠ¨åˆ‡æ¢åˆ° Sepolia")}}},lt=()=>{de||(P=new Ye(window.ethereum),l=new P.eth.Contract(it,_e),de=!0)},h={weiToEther:e=>Number(P.utils.fromWei(e,"ether")),getWinRecords:async e=>await l.getPastEvents("PrizeDistributed",{fromBlock:0,toBlock:"latest",filter:{player:e}}),getRandomNumberFulfilledEvent:async(e,n)=>{let s=[];if(e>n)for(let t=e-1;t>=e-n;t--)s.push(t);else for(let t=e-1;t>0;t--)s.push(t);return await l.getPastEvents("RandomNumberFulfilled",{fromBlock:0,toBlock:"latest",filter:{round:s}})},getTicketPurchasedEvent:async()=>{const e=await P.eth.getAccounts();return await l.getPastEvents("TicketPurchased",{fromBlock:0,toBlock:"latest",filter:{player:e[0]}})},getPlayerPrizeEvent:async()=>{const e=await P.eth.getAccounts(),n=await l.getPastEvents("PrizeDistributed",{fromBlock:0,toBlock:"latest",filter:{player:e[0]}});return console.log("event",n),n},withdrawAll:async()=>{const e=await P.eth.getAccounts();try{const n=await l.methods.withdrawAll().call({from:e[0]});console.log("é¢„æµ‹æˆåŠŸï¼Œå¯ä»¥è°ƒç”¨ï¼Œè¿”å›å€¼:",n)}catch(n){throw console.error("Error checking distribution eligibility:",n),new Error(n.message||"æ— æ³•æç°")}await l.methods.withdrawAll().send({from:e[0]})},simulatePreDis:async e=>{const n=await P.eth.getAccounts();await l.methods.simulatePreDis(e).send({from:n[0]})},getRequireError:e=>{const s=e.message.split(":");return s[s.length-1].trim()},buyTicket:async(e,n)=>{await G();const s=await P.eth.getAccounts();console.log(e,n);try{const t=await l.methods.buyTicket(e).call({from:s[0],value:P.utils.toWei(n,"ether")});console.log("é¢„æµ‹æˆåŠŸï¼Œå¯ä»¥è°ƒç”¨ï¼Œè¿”å›å€¼:",t)}catch(t){throw console.error("Error checking buy eligibility:",t),new Error(t.message||"æ— æ³•è´­ä¹°å½©ç¥¨ï¼Œè¯·æ£€æŸ¥ç½‘ç»œæˆ–åˆçº¦çŠ¶æ€")}return await l.methods.buyTicket(e).send({from:s[0],value:P.utils.toWei(n,"ether")})},claimPrize:async()=>{const e=await window.ethereum.request({method:"eth_requestAccounts"});await G();try{const s=await l.methods.claimPrize().call({from:e[0]});console.log("é¢„æµ‹æˆåŠŸï¼Œå¯ä»¥è°ƒç”¨ï¼Œè¿”å›å€¼:",s)}catch(s){throw console.error("Error checking claim eligibility:",s),new Error(s.message||"æ— æ³•é¢†å–å¥–é‡‘ï¼Œè¯·æ£€æŸ¥ç½‘ç»œæˆ–åˆçº¦çŠ¶æ€")}return await l.methods.claimPrize().send({from:e[0]})},distributePrizesAndEndCurrentRound:async()=>{await G();const e=await window.ethereum.request({method:"eth_requestAccounts"});try{const s=await l.methods.distributePrizesAndEndCurrentRound().call({from:e[0]});console.log("é¢„æµ‹æˆåŠŸï¼Œå¯ä»¥è°ƒç”¨ï¼Œè¿”å›å€¼:",s)}catch(s){throw console.error("Error checking distribution eligibility:",s),new Error(s.message||"æ— æ³•åˆ†é…å¥–é‡‘ï¼Œè¯·æ£€æŸ¥ç½‘ç»œæˆ–åˆçº¦çŠ¶æ€")}return await l.methods.distributePrizesAndEndCurrentRound().send({from:e[0]})},startNewRound:async e=>{await G();const n=await window.ethereum.request({method:"eth_requestAccounts"});try{const i=await l.methods.startNewRound().call({from:n[0]});console.log("é¢„æµ‹æˆåŠŸï¼Œå¯ä»¥è°ƒç”¨ï¼Œè¿”å›å€¼:",i)}catch(i){throw console.error("Error checking new round eligibility:",i),new Error(i.message||"æ— æ³•å¼€å§‹æ–°ä¸€è½®ï¼Œè¯·æ£€æŸ¥ç½‘ç»œæˆ–åˆçº¦çŠ¶æ€")}return await l.methods.startNewRound().send({from:n[0]})},acceptOwnership:e=>l.methods.acceptOwnership().send({from:e}),preDistributePrizes:async()=>{await G();const e=await window.ethereum.request({method:"eth_requestAccounts"});try{const s=await l.methods.preDistributePrizes().call({from:e[0]});console.log("é¢„æµ‹æˆåŠŸï¼Œå¯ä»¥è°ƒç”¨ï¼Œè¿”å›å€¼:",s)}catch(s){throw console.error("Error checking pre-distribution eligibility:",s),new Error(s.message||"æ— æ³•é¢„åˆ†é…å¥–é‡‘ï¼Œè¯·æ£€æŸ¥ç½‘ç»œæˆ–åˆçº¦çŠ¶æ€")}return await l.methods.preDistributePrizes().send({from:e[0]})},refundTickets:e=>l.methods.refundTickets().send({from:e}),transferOwnership:(e,n)=>l.methods.transferOwnership(n).send({from:e}),setCoordinator:(e,n)=>l.methods.setCoordinator(n).send({from:e}),getCurrentRoundTotalAmount:async()=>{const e=await l.methods.getCurrentRoundTotalAmount().call();return P.utils.fromWei(e,"ether")},getPendingPrize:async e=>{const n=await l.methods.pendingRewards(e).call();return P.utils.fromWei(n,"ether")},getMyPrize:async()=>{const e=await window.ethereum.request({method:"eth_requestAccounts"}),n=await l.methods.pendingRewards(e[0]).call();return P.utils.fromWei(n,"ether")},getMyTicket:async()=>{const e=await window.ethereum.request({method:"eth_requestAccounts"}),n=await l.methods.getMyTicket().call({from:e[0]});return n&&(n.amount=P.utils.fromWei(n.amount,"ether")),n},getPlayerInfo:async()=>{const e=await window.ethereum.request({method:"eth_requestAccounts"}),n=await l.methods.getPlayerInfo(e[0]).call({});return n&&(n.currentBetAmount=P.utils.fromWei(n.currentBetAmount,"ether"),n.pendingPrize=P.utils.fromWei(n.pendingPrize,"ether")),n},contractOwner:()=>l.methods.contractOwner().call(),owner:()=>l.methods.owner().call(),MIN_BET_AMOUNT:()=>l.methods.MIN_BET_AMOUNT().call(),MIN_NUMBER:()=>l.methods.MIN_NUMBER().call(),MAX_NUMBER:()=>l.methods.MAX_NUMBER().call(),ROUND_DURATION:()=>l.methods.ROUND_DURATION().call(),DELAY_DURATION:async()=>await l.methods.DELAY_DURATION().call(),getCurrentTicketsCount:async()=>await l.methods.getCurrentTicketsCount().call(),prevRoundData:async()=>await l.methods.prevRoundData().call(),lotteryInfo:async()=>{const e=await l.methods.lotteryInfo().call(),n=await P.eth.getBlockNumber(),s=await l.methods.DELAY_DURATION().call(),i={round:e.round,startNumber:e.startNumber,endNumber:e.endNumber,isLotteryOpen:e.isLotteryOpen,totalPrizePool:P.utils.fromWei(e.totalPrizePool,"ether"),totalPendingRewards:P.utils.fromWei(e.totalPendingRewards,"ether"),lastRequestId:e.lastRequestId,latestRandomNumber:e.latestRandomNumber,rewardRate:e.rewardRate,isDistributing:e.isDistributing,cumulativePrizeAmount:P.utils.fromWei(e.cumulativePrizeAmount,"ether"),cumulativeWinners:e.cumulativeWinners,distributedCount:e.distributedCount,cumulativePlayers:e.cumulativePlayers,cumulativeBetAmount:P.utils.fromWei(e.cumulativeBetAmount,"ether"),blockNumber:n,delayDuration:s,status:0,stateDesc:"æœªçŸ¥çŠ¶æ€",simpleState:"æœªçŸ¥çŠ¶æ€"},t=await l.methods.getLotteryStatus().call();return i.status=Number(t),t==0&&(i.stateDesc="æ¥å—æŠ•æ³¨ä¸­",i.simpleState="æ¥å—æŠ•æ³¨ä¸­"),t==1&&(i.stateDesc="å»¶æ—¶å¼€å¥–ä¸­",i.simpleState="æŠ•æ³¨ç»“æŸï¼Œå¾…å¼€å¥–"),t==2&&(i.stateDesc="ç­‰å¾…é¢„å¼€å¥–",i.simpleState="æŠ•æ³¨ç»“æŸï¼Œå¾…å¼€å¥–"),t==3&&(i.stateDesc="é¢„å¼€å¥–ä¸­",i.simpleState="æŠ•æ³¨ç»“æŸï¼Œå¾…å¼€å¥–"),t==4&&(i.stateDesc="é¢„å¼€å¥–å®Œæˆï¼Œç­‰å¾…å¼€å¥–ï¼ˆéšæœºæ•°å·²ç”Ÿæˆï¼‰",i.simpleState="æŠ•æ³¨ç»“æŸï¼Œå¾…å¼€å¥–"),t==5&&(i.stateDesc="å¼€å¥–å®Œæˆï¼Œç­‰å¾…å¼€å¯ä¸‹ä¸€è½®",i.simpleState=`å¼€å¥–ç»“æŸï¼Œä¸­å¥–å·ç ä¸º: ${i.latestRandomNumber}`),i},vrfConfig:()=>l.methods.vrfConfig().call(),s_vrfCoordinator:()=>l.methods.s_vrfCoordinator().call(),getPlayerTicket:e=>l.methods.getPlayerTicket(e).call(),getTotalAmountForNumber:e=>l.methods.getTotalAmountForNumber(e).call(),getTickets:e=>l.methods.getTickets(e).call(),hasBought:(e,n)=>l.methods.hasBought(e,n).call(),requestIdToRandomNumber:e=>l.methods.requestIdToRandomNumber(e).call(),ticketsPerRound:(e,n)=>l.methods.ticketsPerRound(e,n).call(),ticketsPerNumber:(e,n,s)=>l.methods.ticketsPerNumber(e,n,s).call(),rawFulfillRandomWords:(e,n,s)=>l.methods.rawFulfillRandomWords(n,s).send({from:e})};lt();const B={__name:"LoadingBlock",props:{customClass:{type:String,default:"loading-block"}},setup(e){return(n,s)=>(c(),M("div",{class:ye(e.customClass)},[o(K(je)),I(" "+v(n.$t("message.loading"))+"... ",1)],2))}},ut={style:{"text-align":"center"}},dt={__name:"UserInfo",setup(e,{expose:n}){const{t:s}=Z(),i=d(0),t=d(0),y=d("--"),g=d("--"),b=d(!1),w=d(0),p=d(!0),E=d(0),z=d(0),R=d(!1),D=d([]),$=d([]),W=d(""),T=async()=>{$.value=[{title:s("message.roundName"),dataIndex:"round",key:"round"},{title:s("message.betNumber"),dataIndex:"number",key:"number"},{title:s("message.bet")+"(ETH)",dataIndex:"betAmount",key:"betAmount"},{title:s("message.reward"),dataIndex:"reward",key:"reward"}],D.value=[];const m=await h.getWinRecords(W.value);if(m)for(let A=0;A<m.length;A++)D.value.push({round:m[A].returnValues.round,number:m[A].returnValues.winNumber,betAmount:h.weiToEther(m[A].returnValues.betAmount),reward:h.weiToEther(m[A].returnValues.prizeAmount)});R.value=!0},_=async()=>{b.value=!0;try{await h.claimPrize(),await O(),x.success(s("message.claimSuccess"))}catch(m){x.error(s("message.claimFailed")+" ï¼š"+h.getRequireError(m))}finally{b.value=!1}},O=async()=>{p.value=!0;const m=await h.getPlayerInfo();W.value=m.player,console.log("playInfo",m),w.value=m.pendingPrize,y.value=Number(m.currentBetNumber)==0?"--":Number(m.currentBetNumber),g.value=m.currentBetAmount==0?"--":Number(m.currentBetAmount),open.value=!0;const A=await h.getPlayerPrizeEvent();if(A){i.value=A.length;let k=0;for(let C=0;C<A.length;C++)k+=h.weiToEther(A[C].returnValues.prizeAmount);t.value=k}const N=await h.getTicketPurchasedEvent();if(N){E.value=N.length;let k=0;for(let C=0;C<N.length;C++)k+=h.weiToEther(N[C].returnValues.amount);z.value=k}p.value=!1};return n({showUserInfo:O}),fe(O),(m,A)=>{const N=ge,k=ve,C=he,Y=ae,j=we,H=oe;return c(),M(X,null,[a("div",ut,[o(C,{style:{"margin-bottom":"20px"}},{default:r(()=>[o(k,{span:24},{default:r(()=>[p.value?(c(),f(B,{key:0})):(c(),f(N,{key:1,title:m.$t("message.myCurrentRoundBetNumber"),value:y.value,"value-style":{color:"#3f8600",fontWeight:"600",fontSize:"60px"}},null,8,["title","value"]))]),_:1})]),_:1}),o(C,{style:{"margin-bottom":"20px"}},{default:r(()=>[o(k,{span:12},{default:r(()=>[p.value?(c(),f(B,{key:0})):(c(),f(N,{key:1,title:m.$t("message.myCurrentRoundBetAmount"),precision:2,value:g.value,"value-style":{color:"#3f8600"}},null,8,["title","value"]))]),_:1}),o(k,{span:12},{default:r(()=>[p.value?(c(),f(B,{key:0})):(c(),f(N,{key:1,title:m.$t("message.pendingRewards"),precision:4,value:w.value},null,8,["title","value"]))]),_:1})]),_:1}),o(C,{style:{"margin-bottom":"20px"}},{default:r(()=>[o(k,{span:12},{default:r(()=>[p.value?(c(),f(B,{key:0})):(c(),f(N,{key:1,title:m.$t("message.totalBets"),value:E.value},null,8,["title","value"]))]),_:1}),o(k,{span:12},{default:r(()=>[p.value?(c(),f(B,{key:0})):(c(),f(N,{key:1,title:m.$t("message.totalBetAmount"),precision:4,value:z.value},null,8,["title","value"]))]),_:1})]),_:1}),o(C,{style:{"margin-bottom":"20px"}},{default:r(()=>[o(k,{span:12},{default:r(()=>[p.value?(c(),f(B,{key:0})):(c(),f(N,{key:1,title:m.$t("message.totalWins"),value:i.value},null,8,["title","value"]))]),_:1}),o(k,{span:12},{default:r(()=>[p.value?(c(),f(B,{key:0})):(c(),f(N,{key:1,title:m.$t("message.totalPrizeAmount"),precision:4,value:t.value},null,8,["title","value"]))]),_:1})]),_:1}),o(C,{style:{"margin-bottom":"20px"}},{default:r(()=>[o(k,{span:24},{default:r(()=>[o(Y,{onClick:_,loading:b.value,style:{"margin-left":"20px"}},{default:r(()=>[I(v(m.$t("message.withdrawReward")),1)]),_:1},8,["loading"]),o(Y,{onClick:T,style:{"margin-left":"20px"}},{default:r(()=>[I(v(m.$t("message.winRecord")),1)]),_:1})]),_:1})]),_:1})]),o(H,{open:R.value,"onUpdate:open":A[0]||(A[0]=J=>R.value=J),title:m.$t("message.winRecord"),width:"320",closable:!1},{default:r(()=>[o(j,{dataSource:D.value,columns:$.value},null,8,["dataSource","columns"])]),_:1},8,["open","title"])],64)}}},ct=V(dt,[["__scopeId","data-v-712dbe43"]]),mt={style:{"margin-right":"2px",color:"gray"}},pt={style:{"margin-right":"2px","font-size":"large",color:"tomato"}},yt={style:{"margin-bottom":"10px"}},ft={key:2},bt={style:{"margin-bottom":"20px"}},vt={style:{float:"right","margin-right":"15px"}},gt={style:{float:"left","margin-left":"15px"}},ht={style:{float:"right","margin-right":"15px"}},wt={style:{float:"left","margin-left":"15px"}},_t={style:{float:"right","margin-right":"15px"}},Tt={style:{float:"left","margin-left":"15px"}},Rt={__name:"LotteryInfo",emits:["update:round"],setup(e,{emit:n}){const{t:s}=Z(),i=te(),t=d(""),y=d(0),g=d(0),b=d(!1),w=d("åŠ è½½ä¸­..."),p=d(!0),E=d(0),z=d(0),R=d(0),D=d(null),$=d(!1),W=d(null),T=d(""),_=d(0),O=d(0),m=d(0),A=d(0),N=d("--"),k=d(!1),C=d([]),Y=d([]),j=d(0),H=d(null),J=n,Te=async()=>{if(k.value=!0,Y.value=[{title:s("message.roundName"),dataIndex:"round",key:"round"},{title:s("message.winNumber"),dataIndex:"number",key:"number"}],j.value<=1)return;C.value=[];const u=await h.getRandomNumberFulfilledEvent(Number(j.value),10);if(u.length>0){for(let L=0;L<u.length;L++){let q=u[L].returnValues;C.value.push({round:q.round,number:q.randomNumber})}C.value=C.value.reverse()}console.info("event",u)},Re=()=>{i.push("/lottery-bet")},Ae=async()=>{try{const u=W.value.innerText;await navigator.clipboard.writeText(u),x.success(s("message.copySuccess"))}catch{x.error(s("message.copyFailed"))}},Pe=u=>{},ke=async()=>{b.value=!0,D.value&&D.value.showUserInfo()},Ee=async()=>{await Q()},Q=async()=>{p.value=!0;try{t.value=_e;const u=await h.lotteryInfo();console.log("lotteryInfo",u),J("update:round",u.round),w.value=u.simpleState,u.status==0?(T.value="Betting",$.value=!0):(T.value="NoBetting",$.value=!1),j.value=u.round,_.value=u.status,O.value=u.latestRandomNumber,y.value=await h.getCurrentRoundTotalAmount(),g.value=u.totalPrizePool,E.value=(await h.getCurrentTicketsCount()).toString(),z.value=Number(u.cumulativeWinners),R.value=u.cumulativePrizeAmount,m.value=Number(u.cumulativePlayers),A.value=u.cumulativeBetAmount,u.endNumber-u.blockNumber<1e3?N.value=u.endNumber-u.blockNumber:N.value="--"}catch(u){console.error("Error loading lottery info:",u)}finally{p.value=!1}};return fe(()=>{Q(),H.value||(H.value=setInterval(()=>{Q()},3e4))}),De(()=>{H.value&&(clearInterval(H.value),H.value=null)}),(u,L)=>{const q=Ve,S=ve,F=he,Ne=ne,U=ge,re=oe,Ce=we;return c(),M(X,null,[a("div",null,[o(F,{style:{"margin-bottom":"20px"}},{default:r(()=>[o(S,{span:24},{default:r(()=>[a("span",mt,v(u.$t("message.contractAddress"))+"ï¼š ",1),a("span",{ref_key:"contractAddr",ref:W,style:{"margin-right":"5px",color:"gray"}},v(t.value),513),o(q,{placement:"top",title:u.$t("message.copyAddress")},{default:r(()=>[a("span",{style:{cursor:"pointer"},onClick:Ae},"ğŸ“‹")]),_:1},8,["title"])]),_:1})]),_:1}),N.value>=0?(c(),f(F,{key:0,style:{"margin-bottom":"20px"}},{default:r(()=>[o(S,{span:24},{default:r(()=>[a("span",pt,v(u.$t("message.betRemainTip",{blockCountdown:N.value})),1)]),_:1})]),_:1})):pe("",!0),o(F,null,{default:r(()=>[o(S,{span:8,offset:8},{default:r(()=>[a("div",yt,[o(Ne,null,{default:r(()=>[o(q,{placement:"top",title:u.$t("message.refresh")},{default:r(()=>[a("span",{style:{cursor:"pointer","font-size":"x-large"},onClick:Ee},"ğŸ”„")]),_:1},8,["title"]),o(q,{placement:"top",title:u.$t("message.showRoundsInfo")},{default:r(()=>[a("span",{style:{cursor:"pointer","font-size":"x-large"},onClick:Te},"ğŸ§¿")]),_:1},8,["title"]),o(q,{placement:"top",title:u.$t("message.myInfo")},{default:r(()=>[a("span",{style:{cursor:"pointer","font-size":"x-large"},onClick:ke},"ğŸ‘¤")]),_:1},8,["title"])]),_:1})])]),_:1})]),_:1}),o(F,null,{default:r(()=>[o(S,{span:24},{default:r(()=>[a("div",{class:ye(T.value),style:{"margin-bottom":"20px","font-size":"x-large"}},[p.value?(c(),f(B,{key:0,class:"loading"})):$.value?(c(),M("span",{key:1,style:{color:"white",cursor:"pointer"},onClick:Re},"ğŸ’µ "+v(u.$t("message.bet")),1)):(c(),M("span",ft,v(u.$t("lotteryStatus."+_.value,{number:O.value})),1))],2)]),_:1})]),_:1}),o(F,null,{default:r(()=>[o(S,{span:24},{default:r(()=>[a("div",bt,[p.value?(c(),f(B,{key:0,class:"loading"})):(c(),f(U,{key:1,title:u.$t("message.totalPrizePool"),precision:4,value:g.value,class:"statistic-info","value-style":{fontSize:"30px"}},null,8,["title","value"]))])]),_:1})]),_:1}),o(F,null,{default:r(()=>[o(S,{span:10,offset:2},{default:r(()=>[a("div",vt,[p.value?(c(),f(B,{key:0,class:"loading"})):(c(),f(U,{key:1,title:u.$t("message.bettorsThisRound"),value:E.value,class:"statistic-info"},null,8,["title","value"]))])]),_:1}),o(S,{span:10},{default:r(()=>[a("div",gt,[p.value?(c(),f(B,{key:0,class:"loading"})):(c(),f(U,{key:1,title:u.$t("message.currentRoundBetAmount"),value:y.value,class:"statistic-info"},null,8,["title","value"]))])]),_:1})]),_:1}),o(F,null,{default:r(()=>[o(S,{span:10,offset:2},{default:r(()=>[a("div",ht,[p.value?(c(),f(B,{key:0,class:"loading"})):(c(),f(U,{key:1,title:u.$t("message.totalWinningEntries"),value:z.value,class:"statistic-info"},null,8,["title","value"]))])]),_:1}),o(S,{span:10},{default:r(()=>[a("div",wt,[p.value?(c(),f(B,{key:0,class:"loading"})):(c(),f(U,{key:1,title:u.$t("message.totalRewardsDistributed"),value:R.value,precision:4,class:"statistic-info"},null,8,["title","value"]))])]),_:1})]),_:1}),o(F,null,{default:r(()=>[o(S,{span:10,offset:2},{default:r(()=>[a("div",_t,[p.value?(c(),f(B,{key:0,class:"loading"})):(c(),f(U,{key:1,title:u.$t("message.historyBetEntries"),value:m.value,class:"statistic-info"},null,8,["title","value"]))])]),_:1}),o(S,{span:10},{default:r(()=>[a("div",Tt,[p.value?(c(),f(B,{key:0,class:"loading"})):(c(),f(U,{key:1,title:u.$t("message.historyBetAmount"),value:A.value,precision:4,class:"statistic-info"},null,8,["title","value"]))])]),_:1})]),_:1})]),o(re,{open:b.value,"onUpdate:open":L[0]||(L[0]=ee=>b.value=ee),class:"custom-class","root-class-name":"root-class-name","root-style":{color:"gary"},title:u.$t("message.myInfo"),placement:"right",onAfterOpenChange:Pe},{default:r(()=>[o(ct,{ref_key:"userInfoRef",ref:D},null,512)]),_:1},8,["open","title"]),o(re,{open:k.value,"onUpdate:open":L[1]||(L[1]=ee=>k.value=ee),class:"custom-class","root-class-name":"root-class-name","root-style":{color:"gary"},title:u.$t("message.winRecord"),placement:"right"},{default:r(()=>[o(Ce,{dataSource:C.value,columns:Y.value},null,8,["dataSource","columns"])]),_:1},8,["open","title"])],64)}}},At=V(Rt,[["__scopeId","data-v-9fee64b8"]]),Pt={class:"p-4"},kt={class:"connect-wallet"},Et={class:"text-2xl font-bold mb-4 white"},Nt={__name:"Home",setup(e){const n=d(0),s=d(),i=t=>{n.value=t};return(t,y)=>(c(),M("div",Pt,[a("div",kt,[o(rt,{ref_key:"wallet",ref:s},null,512)]),a("h1",Et,"ğŸ° "+v(t.$t("message.homeTitle"))+"("+v(t.$t("message.round",{round:n.value}))+")",1),o(At,{"onUpdate:round":i})]))}},Ct=V(Nt,[["__scopeId","data-v-0c377240"]]),It={class:"p-4"},Bt={style:{color:"red"}},zt={__name:"Admin",setup(e){const n=[{path:"/",breadcrumbName:"é¦–é¡µ"},{path:"/Admin",breadcrumbName:"åå°ç®¡ç†"}],s=d("è¿™æ˜¯ä¸€ä¸ªä»…é™ç®¡ç†å‘˜è®¿é—®çš„åŒºåŸŸ");te();const i=d(!1),t=d(!1),y=d(!1),g=d(!1),b=d(!1),w=Me({round:0,startNumber:0,endNumber:0,isLotteryOpen:!1,totalPrizePool:0,totalPendingRewards:0,lastRequestId:0,latestRandomNumber:0,rewardRate:0,isDistributing:!1,blockNumber:0,delayDuration:0,stateDesc:"æœªçŸ¥çŠ¶æ€"}),p=async()=>{try{await h.withdrawAll(),x.success("æç°æˆåŠŸ")}catch(T){x.error(h.getRequireError(T),5)}},E=async()=>{await h.simulatePreDis(2)},z=T=>{console.log("open",T)},R=async()=>{t.value=!0;const T=await h.lotteryInfo();Object.assign(w,T),i.value=!0,t.value=!1},D=async()=>{y.value=!0,console.log("å¼€å§‹æ–°ä¸€è½®æŠ•æ³¨");try{await h.startNewRound(),x.success("æ–°ä¸€è½®æŠ•æ³¨å·²å¼€å¯ï¼")}catch(T){x.error(h.getRequireError(T),5)}finally{y.value=!1}},$=async()=>{g.value=!0,console.log("é¢„å¼€å¥–");try{await h.preDistributePrizes(),x.success("é¢„å¼€å¥–æˆåŠŸï¼")}catch(T){x.error(h.getRequireError(T),5)}finally{g.value=!1}},W=async()=>{b.value=!0,console.log("å·ç å¼€å¥–");try{await h.distributePrizesAndEndCurrentRound(),x.success("å·ç å¼€å¥–æˆåŠŸï¼")}catch(T){x.error(h.getRequireError(T),5)}finally{b.value=!1}};return(T,_)=>{const O=se,m=ae,A=ne,N=oe;return c(),M(X,null,[o(O,{style:{border:"1px solid rgb(235, 237, 240)"},title:"",breadcrumb:{routes:n},"sub-title":""},null,8,["breadcrumb"]),a("div",It,[_[7]||(_[7]=a("h1",{class:"text-2xl font-bold mb-4"},"ğŸ° æ¬¢è¿æ¥åˆ°ç®¡ç†åå°",-1)),a("div",Bt,v(s.value),1),_[8]||(_[8]=a("div",null,null,-1)),a("div",null,[o(A,null,{default:r(()=>[o(m,{onClick:R,loading:t.value},{default:r(()=>_[1]||(_[1]=[I("æ˜¾ç¤ºå½“å‰è½®ä¿¡æ¯")])),_:1,__:[1]},8,["loading"]),o(m,{onClick:D,loading:y.value},{default:r(()=>_[2]||(_[2]=[I("å¼€å¯æ–°ä¸€è½®æŠ•æ³¨")])),_:1,__:[2]},8,["loading"])]),_:1})]),a("div",null,[o(A,null,{default:r(()=>[o(m,{onClick:$,loading:g.value},{default:r(()=>_[3]||(_[3]=[I("é¢„å¼€å¥–")])),_:1,__:[3]},8,["loading"]),o(m,{onClick:W,loading:b.value},{default:r(()=>_[4]||(_[4]=[I("å¼€å¥–")])),_:1,__:[4]},8,["loading"])]),_:1})]),a("div",null,[o(A,null,{default:r(()=>[o(m,{onClick:E,loading:g.value},{default:r(()=>_[5]||(_[5]=[I("æ¨¡æ‹Ÿé¢„å¼€å¥–")])),_:1,__:[5]},8,["loading"]),o(m,{onClick:p,loading:b.value},{default:r(()=>_[6]||(_[6]=[I("æç°")])),_:1,__:[6]},8,["loading"])]),_:1})])]),o(N,{open:i.value,"onUpdate:open":_[0]||(_[0]=k=>i.value=k),class:"custom-class","root-class-name":"root-class-name","root-style":{color:"blue"},style:{color:"red"},title:"å½“å‰è½®æ¬¡ä¿¡æ¯",placement:"right",onAfterOpenChange:z},{default:r(()=>[a("p",null,"å½“å‰è½®æ¬¡ï¼š"+v(w.round),1),a("p",null,"æ€»å¥–é‡‘æ± ï¼š"+v(w.totalPrizePool)+" ETH",1),a("p",null,"å¾…é¢†å–å¥–åŠ±æ€»é¢ï¼š"+v(w.totalPendingRewards)+" ETH",1),a("p",null,"èµ·å§‹åŒºå—ï¼š["+v(w.startNumber)+" ,"+v(w.endNumber)+"], å½“å‰åŒºå—ï¼š"+v(w.blockNumber),1),a("p",null,"æ˜¯å¦å¼€å¯æŠ•æ³¨: "+v(w.isLotteryOpen),1),a("p",null,"å¼€å¥–å·ç ï¼š"+v(w.latestRandomNumber),1),a("p",null,"å¥–åŠ±åˆ†é…ç‡ï¼š"+v(w.rewardRate)+"%",1),a("p",null,"æ˜¯å¦æ­£åœ¨å¼€å¥–: "+v(w.isDistributing),1),a("p",null,"å»¶è¿Ÿæ—¶é—´: "+v(w.delayDuration)+" åŒºå—",1),a("p",null,"çŠ¶æ€æè¿°: "+v(w.stateDesc),1)]),_:1},8,["open"])],64)}}},Dt={class:"about-lottery"},Mt={__name:"About",setup(e){const{t:n}=Z(),s=[{path:"/",breadcrumbName:n("breadcrumb.home")},{path:"/About",breadcrumbName:n("breadcrumb.about")}];return(i,t)=>{const y=se;return c(),M(X,null,[o(y,{style:{color:"white"},title:"",breadcrumb:{routes:s},"sub-title":""},null,8,["breadcrumb"]),a("div",Dt,[t[6]||(t[6]=be('<div class="section-title" data-v-ae176035>ğŸ¯ å½©ç¥¨ç©æ³•ç®€ä»‹</div><section data-v-ae176035><h2 data-v-ae176035>ğŸ® ç©æ³•è¯´æ˜</h2><ul data-v-ae176035><li data-v-ae176035>æ¯è½®å½©ç¥¨ç”±ç®¡ç†å‘˜å¼€å¯ï¼Œç”¨æˆ·å¯åœ¨å¼€æ”¾æœŸé—´å†…è´­ä¹°å½©ç¥¨ã€‚</li><li data-v-ae176035>æŠ•æ³¨æ—¶é€‰æ‹© 1 è‡³ 5 ä¸­çš„ä¸€ä¸ªå·ç ï¼Œå¹¶æ”¯ä»˜ç›¸åº” ETHï¼ˆæ¯æ³¨æœ€ä½ 0.01 ETHï¼‰ã€‚</li><li data-v-ae176035>é¦–ä½ç©å®¶æŠ•æ³¨åå°†å¯åŠ¨å€’è®¡æ—¶ï¼Œçº¦ 100 ä¸ªåŒºå—åè‡ªåŠ¨ç»“æŸæœ¬è½®ã€‚</li><li data-v-ae176035>ç»“æŸåï¼Œåˆçº¦é€šè¿‡ <strong data-v-ae176035>Chainlink VRF</strong> è·å–éšæœºæ•°è¿›è¡Œå¼€å¥–ï¼Œç¡®ä¿å…¬å¹³ã€‚</li><li data-v-ae176035>ä¸­å¥–å¥–é‡‘ä¸ºç©å®¶æ€»æŠ•æ³¨é¢çš„ <strong data-v-ae176035>85%</strong>ï¼ŒæŒ‰æŠ•æ³¨æ¯”ä¾‹åˆ†é…ï¼›è‹¥æ— äººä¸­å¥–ï¼Œå¥–é‡‘æ»šå…¥ä¸‹ä¸€è½®ã€‚</li><li data-v-ae176035>ä¸­å¥–åå¯å‰å¾€ ğŸ‘¤ <strong data-v-ae176035>ä¸ªäººä¿¡æ¯é¡µé¢</strong> æŸ¥çœ‹è®°å½•å¹¶æå–å¥–é‡‘ã€‚</li></ul></section>',2)),a("section",null,[t[5]||(t[5]=a("h2",null,"ğŸ” ä¸»è¦æµç¨‹",-1)),a("ul",null,[t[2]||(t[2]=a("li",null,"ç®¡ç†å‘˜å¼€å¯æ–°ä¸€è½®å½©ç¥¨ã€‚",-1)),a("li",null,[t[0]||(t[0]=I("ä¸»ç•Œé¢æ˜¾ç¤º ")),a("code",null,"ğŸ’µ "+v(i.$t("message.bet")),1),t[1]||(t[1]=I(" æ—¶ï¼Œè¡¨ç¤ºå½“å‰å¯æŠ•æ³¨ã€‚"))]),t[3]||(t[3]=a("li",null,"æŠ•æ³¨åï¼Œç­‰å¾…åŒºå—å€’è®¡æ—¶ç»“æŸï¼Œç³»ç»Ÿè°ƒç”¨åˆçº¦è‡ªåŠ¨å…³é—­æŠ•æ³¨ï¼Œå¹¶è¯·æ±‚ VRF éšæœºæ•°ã€‚",-1)),t[4]||(t[4]=a("li",null,"VRF è¿”å›éšæœºæ•°åï¼Œç³»ç»Ÿæ‰§è¡Œå¼€å¥–é€»è¾‘ã€‚",-1))])]),t[7]||(t[7]=a("section",null,[a("h2",null,"ğŸ›¡ï¸ å®‰å…¨ä¸å…¬å¹³"),a("ul",null,[a("li",null,"åˆçº¦æºç å·²å¼€æºå¹¶éƒ¨ç½²ä¸Šé“¾ï¼Œæ”¯æŒå®‰å…¨å®¡è®¡ã€‚"),a("li",null,"ç®¡ç†å‘˜æ— æ³•æå–å¥–æ± èµ„é‡‘ï¼Œä»…æ”¶å– 15% ä½œä¸ºè¿è¥æ‰‹ç»­è´¹ã€‚"),a("li",null,"æ‰€æœ‰å‚æ•°ä¸æ“ä½œå‡åœ¨é“¾ä¸Šé€æ˜æ‰§è¡Œï¼Œç®¡ç†å‘˜æ— æ³•å¹²é¢„å¼€å¥–ã€‚"),a("li",null,"ç”¨æˆ·çš„å¥–é‡‘éœ€ç”±æœ¬äººé’±åŒ…è‡ªè¡Œæå–ï¼Œç®¡ç†å‘˜æ— æ³•ä»£ä¸ºæ“ä½œã€‚"),a("li",null,[I("é‡‡ç”¨ "),a("strong",null,"Chainlink VRF"),I(" å®ç°é“¾ä¸Šå¯éªŒè¯çš„éšæœºæ•°ã€‚")]),a("li",null,"ç®¡ç†å‘˜æƒé™å—æ§ï¼Œç”¨æˆ·èµ„äº§å®‰å…¨æœ‰ä¿éšœã€‚")])],-1))]),t[8]||(t[8]=a("div",{style:{"margin-bottom":"30px"}},null,-1))],64)}}},$t=V(Mt,[["__scopeId","data-v-ae176035"]]),xt={class:"about-lottery"},St={__name:"About-en",setup(e){const{t:n}=Z(),s=[{path:"/",breadcrumbName:n("breadcrumb.home")},{path:"/About",breadcrumbName:n("breadcrumb.about")}];return(i,t)=>{const y=se;return c(),M(X,null,[o(y,{style:{color:"white"},title:"",breadcrumb:{routes:s},"sub-title":""},null,8,["breadcrumb"]),a("div",xt,[t[6]||(t[6]=be('<div class="section-title" data-v-e99dd57f>ğŸ¯ Lottery Game Overview</div><section data-v-e99dd57f><h2 data-v-e99dd57f>ğŸ® Game Rules</h2><ul data-v-e99dd57f><li data-v-e99dd57f>Each round is started by the admin. Players can purchase tickets during the open period.</li><li data-v-e99dd57f>Choose a number between 1 and 5 and pay the required ETH (minimum 0.01 ETH per ticket) to place a bet.</li><li data-v-e99dd57f>Once the first player places a bet, a countdown begins. The round ends after approximately 100 blocks.</li><li data-v-e99dd57f>After the round ends, a random number is generated via <strong data-v-e99dd57f>Chainlink VRF</strong> to determine the winning number.</li><li data-v-e99dd57f>85% of the total bet amount is distributed to winners based on their stake. If no winner, the prize rolls over to the next round.</li><li data-v-e99dd57f>Winners can view their rewards in the ğŸ‘¤ <strong data-v-e99dd57f>My Info</strong> page and manually withdraw their earnings.</li></ul></section>',2)),a("section",null,[t[5]||(t[5]=a("h2",null,"ğŸ” Main Process",-1)),a("ul",null,[t[2]||(t[2]=a("li",null,"Admin starts a new round.",-1)),a("li",null,[t[0]||(t[0]=I("On the home screen, when you see ")),a("code",null,"ğŸ’µ "+v(i.$t("message.bet")),1),t[1]||(t[1]=I(", it means betting is open."))]),t[3]||(t[3]=a("li",null,"After betting, the system waits for the block countdown to finish, then calls the contract to close betting and request a random number from Chainlink VRF.",-1)),t[4]||(t[4]=a("li",null,"Once the random number is returned, the contract finalizes the draw and determines the winner.",-1))])]),t[7]||(t[7]=a("section",null,[a("h2",null,"ğŸ›¡ï¸ Security & Fairness"),a("ul",null,[a("li",null,"Smart contract code is open-source and verified on-chain. Can be audited anytime."),a("li",null,"Admin has no access to the prize pool. 15% of the bet amount is reserved to cover operational gas fees."),a("li",null,"All contract parameters and draws are handled on-chain, with full transparency and no admin interference."),a("li",null,"Only the player can withdraw their reward. Admin cannot access user funds."),a("li",null,[a("strong",null,"Chainlink VRF"),I(" provides verifiable random numbers to ensure fairness.")]),a("li",null,"Admin permissions are restricted. Your funds are secure.")])],-1))]),t[8]||(t[8]=a("div",{style:{"margin-bottom":"30px"}},null,-1))],64)}}},Wt=V(St,[["__scopeId","data-v-e99dd57f"]]),Ot=[{path:"/",name:"Home",component:Ct,meta:{layout:"FullscreenLayout"}},{path:"/Admin",name:"Admin",component:zt,meta:{layout:"AdminLayout"}},{path:"/About",name:"About",component:$t,meta:{layout:"FullscreenLayout"}},{path:"/About-En",name:"About-en",component:Wt,meta:{layout:"FullscreenLayout"}},{path:"/lottery-bet",name:"LotteryBet",component:()=>at(()=>import("./LotteryBet-B9T2hgci.js"),__vite__mapDeps([0,1,2,3,4,5])),meta:{layout:"FullscreenLayout"}}],Lt=$e({history:xe(),routes:Ot}),Ft={home:"é¦–é¡µ",bet:"æŠ•æ³¨é¡µé¢",about:"å…³äºé¡µé¢"},Ht={0:"æ¥å—æŠ•æ³¨ä¸­",1:"æŠ•æ³¨ç»“æŸï¼Œå¾…å¼€å¥–",2:"æŠ•æ³¨ç»“æŸï¼Œå¾…å¼€å¥–",3:"æŠ•æ³¨ç»“æŸï¼Œå¾…å¼€å¥–",4:"æŠ•æ³¨ç»“æŸï¼Œå¾…å¼€å¥–",5:"å¼€å¥–ç»“æŸï¼Œä¸­å¥–å·ç ä¸º : {number}"},qt={hello:"ä½ å¥½ï¼Œä¸–ç•Œ",language:"ä¸­æ–‡",homeTitle:"æ•°å­—ç«çŒœ",round:"è½®æ¬¡: {round}",contractAddress:"åˆçº¦åœ°å€",copyAddress:"å¤åˆ¶åœ°å€",refresh:"åˆ·æ–°",myInfo:"æˆ‘çš„ä¿¡æ¯",connectWallet:"è¿æ¥é’±åŒ…",connected:"å·²è¿æ¥",totalPrizePool:"æ€»å¥–æ±  (ETH)",bettorsThisRound:"æœ¬è½®å‚ä¸äººæ•°",currentRoundBetAmount:"æœ¬è½®æ€»æŠ•æ³¨é‡‘é¢ (ETH)",totalWinningEntries:"æ€»ä¸­å¥–äººæ¬¡",totalRewardsDistributed:"æ€»å¥–åŠ±å‘æ”¾ (ETH)",myCurrentRoundBetNumber:"æœ¬è½®æŠ•æ³¨å·ç ",myCurrentRoundBetAmount:"æœ¬è½®æŠ•æ³¨é‡‘é¢ (ETH)",pendingRewards:"å¾…é¢†å–å¥–åŠ±(ETH)",totalBets:"æ€»æŠ•æ³¨æ¬¡æ•°",totalBetAmount:"æ€»æŠ•æ³¨é‡‘é¢(ETH)",totalWins:"æ€»ä¸­å¥–æ¬¡æ•°",totalPrizeAmount:"æ€»ä¸­å¥–é‡‘é¢(ETH)",withdrawReward:"æå–å¥–åŠ±",bet:"æŠ•æ³¨",betNumber:"æŠ•æ³¨å·ç ",betAmount:"æŠ•æ³¨é‡‘é¢(ETH)",tip1:"è¯·é€‰æ‹©æ‚¨çš„æŠ•æ³¨å·ç ",tip2:"è¯·è¾“å…¥æ‚¨çš„æŠ•æ³¨é‡‘é¢ï¼æœ€å°æŠ•æ³¨é‡‘é¢ä¸º0.01 ETH",reset:"é‡ç½®",tip3:"è¯·åœ¨æŠ•æ³¨å‰ç¡®ä¿å·²è¿æ¥é’±åŒ…ï¼Œå¹¶ä¸”å½“å‰ç½‘ç»œä¸º {network}",status1:"æŠ•æ³¨å·²å…³é—­ï¼Œç­‰å¾…ç»“æœ",betSuccess:"æŠ•æ³¨æˆåŠŸï¼",betFailed:"æŠ•æ³¨å¤±è´¥.",installWallet:"è¯·å…ˆå®‰è£… MetaMask ç­‰ä»¥å¤ªåŠé’±åŒ…æ’ä»¶",claimSuccess:"å¥–é‡‘é¢†å–æˆåŠŸï¼",claimFailed:"å¥–é‡‘é¢†å–å¤±è´¥",copySuccess:"å¤åˆ¶æˆåŠŸï¼",copyFailed:"å¤åˆ¶å¤±è´¥ï¼",historyBetEntries:"æ€»æŠ•æ³¨æ¬¡æ•°",historyBetAmount:"æ€»æŠ•æ³¨é‡‘é¢(ETH)",showRoundsInfo:"æ˜¾ç¤ºå†å²è½®æ¬¡ä¿¡æ¯",roundName:"è½®æ¬¡ ",winNumber:"ä¸­å¥–å·ç ",winRecord:"ä¸­å¥–è®°å½•",cancel:"å–æ¶ˆ",about:"å…³äº",loading:"åŠ è½½ä¸­",betRemainTip:"è·ç¦»æŠ•æ³¨ç»“æŸè¿˜æœ‰ï¼š{ blockCountdown  } åŒºå—",reward:"å¥–åŠ±(ETH)"},Ut={breadcrumb:Ft,lotteryStatus:Ht,message:qt},Vt={home:"Home",bet:"Betting Page",about:"About Page"},Yt={0:"Betting Open",1:"Bet Closed, Waiting For Result",2:"Bet Closed, Waiting For Result",3:"Bet Closed, Waiting For Result",4:"Bet Closed, Waiting For Result",5:"Winning Number : {number}"},jt={hello:"Hello World",language:"English",homeTitle:"Guess Number",round:"Round: {round}",contractAddress:"Contract Addr",copyAddress:"Copy Address",refresh:"Refresh",myInfo:"My Info",connectWallet:"Connect Wallet",connected:"Connected",totalPrizePool:"Total Prize Pool (ETH)",bettorsThisRound:"Players This Round",currentRoundBetAmount:"Round Bet Total (ETH)",totalWinningEntries:"Total Winning Entries",totalRewardsDistributed:"Total ETH Awarded",myCurrentRoundBetNumber:"Your Bet Number",myCurrentRoundBetAmount:"Current Bets (ETH)",pendingRewards:"Pending Rewards(ETH)",totalBets:"Total Bets",totalBetAmount:"Total Bet Amount(ETH)",totalWins:"Total Wins",totalPrizeAmount:"Total Prize Amount(ETH)",withdrawReward:"Claim Reward",bet:"Bet",betNumber:"Bet Number",betAmount:"Bet Amount(ETH)",tip1:"Please select your bet number",tip2:"Please enter your bet amount! Minimum is 0.01 ETH",reset:"Reset",tip3:"Please make sure your wallet is connected and the current network is {network} before placing a bet.",status1:"Betting closed, waiting for results",betSuccess:"Bet Placed Successfully!",betFailed:"Bet Failed ",installWallet:"Please install MetaMask or another Ethereum wallet extension first",claimSuccess:"Reward claimed successfully!",claimFailed:"Reward claim failed",copySuccess:"Copy Successfullyï¼",copyFailed:"Copy Failedï¼",historyBetEntries:"History Bet Entries  ",historyBetAmount:"Past Bets (ETH)",showRoundsInfo:"Show Past Rounds Info",roundName:"Round ",winNumber:"Winning Number",winRecord:"Winning Record",cancel:"Cancel",about:"About",loading:"Loading",betRemainTip:"Bet ends in { blockCountdown  } blocks",reward:"Reward(ETH)"},Gt={breadcrumb:Vt,lotteryStatus:Yt,message:jt},Zt=Se({legacy:!1,locale:"zh",fallbackLocale:"en",messages:{zh:Ut,en:Gt}});We(et).use(Lt).use(Zt).mount("#app");export{h as L,ue as S,V as _};
